<!DOCTYPE html>
<html>
<head>
    <title>Data Polling</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            function pollData() {

                $.get('/latest-data/', function(data) {
                    var info = data.latest_data;
                    console.log(info)
                    if (info != false) {
                        $("#myapp").prepend("<p>" + info + "</p>")
                    }
                    // $('#data').text(data.latest_data);
                    setTimeout(pollData, 1000);  // Poll every 5 seconds
                });
            }

            pollData();
        });
    </script>
</head>
<body>
    <h1>Data Polling</h1>
    <div  id="myapp">
        <p>Latest data:</p>
    </div>
</body>
</html>
